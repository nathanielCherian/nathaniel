<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
</head>

<body>

    <div class="content"></div>

</body>


<script>
    let OAUTH_TOKEN = "BQD8cJma7kR3uq_HdOtqO8-f5LEqtB3snOMxxHo8PAT4qnejRwTCp8N59YDRt6Sy9UspsPRPIB7-I0RtIMC8_kEun-08_ZZ1UBK5pkPK5jmHi_Ux-vxXYtvfUDRAV3bovATLHCzsR1keNaz-5JJaO8tQWReODBNidmLX6lPTZerUpB9NUeXXuiMJEmU_EMrWBedgYFO6IsDteLu0Cf8ko6YeWDjBhJDNqoQOiSSoQoqyCxeBxaWsYFdgweDEURZWNfKyV8J0trV9ZoSg5OyoJZkuXqM5tGxkU-sZ";
    let PLAYLIST_API = "https://api.spotify.com/v1/playlists/";
    let PARAMS = "/tracks?market=ES&fields=items(added_by.id%2Ctrack(name%2Chref%2Calbum(name%2Chref%2Cimages)))&limit=5&offset=5";
    const playlistID = "1H8x3NpOD4nBV20ExakdwW";


    async function main(){
        const res = await fetch(PLAYLIST_API + playlistID + PARAMS, {
            headers:{
                'Authorization': "Bearer "+OAUTH_TOKEN
            }
        });
        const data = await res.json();
        const items = data["items"];
        const songs = [];

        for(const item of items){
            name = item["track"]["album"]["name"];
            image = item["track"]["album"]["images"][0]["url"];
            songs.push({name, image});
            $(".content").append(`<img src="${image}" />`);
        }

        console.log(songs);
    }

    main();
</script>

</html>